{"version":3,"sources":["n1-main/m1-ui/common/Modal/Modal.module.css","n1-main/m1-ui/enterNewPassword/NewPassword.module.css","n1-main/m1-ui/passwordRecovery/LostPassword.module.css","n1-main/m1-ui/registration/Registration.module.css","n1-main/m1-ui/login/login.module.css","n1-main/m1-ui/nav/Nav.module.css","n1-main/m2-bll/registration-reducer.ts","n1-main/m2-bll/app-reducer.ts","n1-main/m3-dal/api.ts","n1-main/m2-bll/login-reducer.ts","n1-main/m1-ui/login/Login.tsx","n1-main/m2-bll/packs-reducer.ts","n1-main/m1-ui/registration/Registration.tsx","n1-main/m1-ui/profile/Profile.tsx","n1-main/m2-bll/enter-new-password-reducer.ts","n1-main/m1-ui/enterNewPassword/EnterNewPassword.tsx","n1-main/m1-ui/passwordRecovery/PasswordRecovery.tsx","n1-main/m1-ui/error404/Error404.tsx","n1-main/m1-ui/common/Modal/Modal.tsx","n1-main/m1-ui/packs/addPacksModal/AddPacksModal.tsx","n1-main/m1-ui/table/Table.tsx","n1-main/m1-ui/hooks/useSortableData.ts","n1-main/m1-ui/packs/Packs.tsx","n1-main/m1-ui/cards/Cards.tsx","n1-main/m1-ui/routes/Routes.tsx","n1-main/m1-ui/nav/Nav.tsx","n1-main/m1-ui/App.tsx","reportWebVitals.ts","n1-main/m2-bll/profile-reducer.ts","n1-main/m2-bll/password-recovery-reducer.ts","n1-main/m2-bll/cards-reducer.ts","n1-main/m2-bll/store.ts","index.tsx"],"names":["module","exports","ACTIONS_TYPE","initialState","isFetchingAC","isFetching","type","payload","instance","axios","create","baseURL","withCredentials","loginAPI","password","email","rememberMe","post","delete","registrationAPI","newPasswordAPI","resetPasswordToken","then","response","data","lostPasswordAPI","from","message","packsAPI","get","name","path","grade","shots","rating","deckCover","cardsPack","successLoginAC","isAuth","errorMessage","failedLoginAC","Login","dispatch","useDispatch","useSelector","state","login","fetch","app","formik","useFormik","initialValues","onSubmit","values","res","catch","e","error","console","log","to","className","s","h1","form","handleSubmit","form_item","htmlFor","id","onChange","handleChange","value","m","form_item_rememberMe","button","disabled","loading","isRedirecting","isLoading","redirectAC","redirect","REDIRECT","errorAC","ERROR","loadingAC","LOADING","Registration","registration","confirmPassword","a","err","validate","errors","test","length","placeholder","getFieldProps","touched","Profile","profileData","src","avatar","alt","onClick","setResponseError","responseError","changeRedirectStatus","redirectStatus","EnterNewPassword","useState","password1","setPassword1","password2","setPassword2","token","useParams","enterNewPassword","badPassword","setBadPassword","main","inputs","currentTarget","PasswordRecovery","setEmail","postEmailTC","Error404","cardPacks","getPacksAC","GET_PACKS","addPackAC","pack","ADD_PACK","Modal","visible","title","content","footer","onClose","onKeydown","key","useEffect","document","addEventListener","removeEventListener","modal","modal_dialog","stopPropagation","modal_header","modal_title","modal_close","modal_body","modal_content","modal_footer","AddPacksModal","newCardsPack","Table","props","items","config","sortConfig","setSortConfig","useMemo","sortableItems","sort","b","direction","requestSort","useSortableData","isModal","setModal","map","i","cardsCount","updated","Packs","packs","Cards","PATH","Routes","exact","render","Nav","style","nav","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootReducer","combineReducers","action","profile","passwordRecovery","cards","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.33a6040e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"Modal_modal__2tE-q\",\"appear\":\"Modal_appear__p62wv\",\"modal-dialog\":\"Modal_modal-dialog__ije8g\",\"animatetop\":\"Modal_animatetop__2SyTm\",\"slide-in\":\"Modal_slide-in__3ifUR\",\"modal-header\":\"Modal_modal-header__2eXki\",\"modal-footer\":\"Modal_modal-footer__3TF9k\",\"modal-close\":\"Modal_modal-close__3lHcr\",\"modal-body\":\"Modal_modal-body__1gUBV\",\"modal-content\":\"Modal_modal-content__4eRHm\",\"modal-title\":\"Modal_modal-title__KUmW-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"NewPassword_main__2QV19\",\"inputs\":\"NewPassword_inputs__1qhdP\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main\":\"LostPassword_main__1p9VZ\",\"error\":\"LostPassword_error__1XO_D\",\"message\":\"LostPassword_message__3cQcO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registration\":\"Registration_registration__OhgLq\",\"h1\":\"Registration_h1__QCJBi\",\"form\":\"Registration_form__1JqTq\",\"form_item\":\"Registration_form_item__3XN0u\",\"button\":\"Registration_button__WUil5\",\"error\":\"Registration_error__25BlV\",\"loading\":\"Registration_loading__2RcRF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_item_rememberMe\":\"login_form_item_rememberMe__1mrbN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__1axFw\"};","import {Dispatch} from \"react\";\nimport {ThunkAction} from \"redux-thunk\";\nimport {AppStateType} from \"./store\";\nimport {registrationAPI} from \"../m3-dal/api\";\n\n//variables\nexport enum ACTIONS_TYPE {\n    REDIRECT = 'Registration/REDIRECT',\n    LOADING = 'Registration/LOADING',\n    ERROR = 'Registration/ERROR',\n}\n\n//typing\ntype redirectACType = ReturnType<typeof redirectAC>\ntype errorACType = ReturnType<typeof errorAC>\nexport type loadingACType = ReturnType<typeof loadingAC>\ntype ActionType = redirectACType | errorACType | loadingACType\n\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\n\ntype initialStateType = typeof initialState\n\n\nlet initialState = {\n    isRedirecting: false,\n    isLoading: false,\n    error: null as string | null\n}\n\nexport let registrationReducer = (state = initialState, action: ActionType): initialStateType => {\n    switch (action.type) {\n        case ACTIONS_TYPE.REDIRECT:\n            return {...state, isRedirecting: action.payload.redirect}\n\n        case ACTIONS_TYPE.ERROR:\n            return {...state, error: action.payload.error}\n\n        case ACTIONS_TYPE.LOADING:\n            return {...state, isLoading: action.payload.loading}\n        default:\n            return state\n    }\n}\n\nexport let redirectAC = (redirect: boolean) => ({\n    type: ACTIONS_TYPE.REDIRECT,\n    payload: {redirect}\n} as const)\n\nlet errorAC = (error: string | null) => ({\n    type: ACTIONS_TYPE.ERROR,\n    payload: {error}\n} as const)\n\nexport let loadingAC = (loading: boolean) => ({\n    type: ACTIONS_TYPE.LOADING,\n    payload: {loading}\n} as const)\n\n\nexport let registration = (email: string, password: string): ThunkType => async (dispatch: Dispatch<ActionType>) => {\n    dispatch(loadingAC(true))\n    try {\n        await registrationAPI.registration(email, password)\n        dispatch(loadingAC(false))\n        dispatch(redirectAC(true))\n        dispatch(redirectAC(false))\n        dispatch(errorAC(null))\n    } catch (e) {\n        console.log(e)\n        const err = e.response\n        dispatch(errorAC(err.data.error))\n        dispatch(loadingAC(false))\n    }\n}\n\n","import {Dispatch} from \"redux\";\n\nexport type initialStateType = {\n    isFetching: boolean\n}\n\nconst initialState = {} as initialStateType\n\nexport const appReducer = (state: typeof initialState = initialState, action: ActionType): initialStateType => {\n    switch (action.type) {\n        case 'IS-FETCHING':\n            return {\n                ...state,\n                isFetching: action.payload.isFetching\n            }\n        default:\n            return state\n    }\n}\n\n//TYPES\ntype ActionType = ReturnType<typeof isFetchingAC>;\n\n//AC\nexport const isFetchingAC = (isFetching: boolean) => ({\n    type: 'IS-FETCHING',\n    payload: {isFetching}\n} as const)\n\n//THUNK\n","import axios from \"axios\";\nimport {LoginResponseType, LogoutResponseType, PackResponseType, PacksResponseType} from \"../m1-ui/common/types/types\";\n\nconst instance = axios.create({\n    //baseURL: 'https://neko-back.herokuapp.com/2.0',\n    baseURL: 'http://localhost:7542/2.0/',\n    withCredentials: true\n})\n\n/*\"http://localhost:7542/2.0/\"*/\n\ntype ErrorType = {\n    email: string\n    error: string\n    in: string\n}\n\nexport const loginAPI = {\n    login(password: string, email: string, rememberMe: boolean) {\n        return instance.post<LoginResponseType>('auth/login', {password, email, rememberMe})\n    },\n    isAuth() {\n        return instance.post<LoginResponseType>('auth/me', {})\n    },\n    logOut() {\n        return instance.delete<LogoutResponseType>('auth/me', {})\n    }\n}\n\nexport const registrationAPI = {\n    registration(email: string, password: string) {\n        return instance.post<any | ErrorType>('/auth/register', {email, password})\n    }\n}\nexport const newPasswordAPI = {\n    postNewPassword(password: string, resetPasswordToken: string) {\n        return instance.post(`auth/set-new-password`, {password, resetPasswordToken}).then(response => response.data)\n    }\n}\nexport const lostPasswordAPI = {\n    postEmail(email: string) {\n        return instance.post(`auth/forgot`, {\n            email,\n            from: \"cards-admin <themightymasha@gmail.com>\",\n            message: `<div style=\"background-color: lime; padding: 15px\"> password recovery link: <a href='https://feraverto.github.io/cards/#/enter-new-password/$token$'>link</a></div>`\n        }).then(response => response.data)\n    }\n}\n\nexport const packsAPI = {\n    getPacks() {\n        return instance.get<PacksResponseType>(`/cards/pack`).then(response => response.data)\n    },\n\n    addPack(name?: string, path?: string,\n            grade?: number, shots?: number,\n            rating?: number, deckCover?: string, type?: string) {\n        return instance.post<PackResponseType>(`/cards/pack`, {cardsPack: {name}}).then(response => response.data)\n    }\n}","import {Dispatch} from \"redux\";\nimport { isFetchingAC } from \"./app-reducer\";\nimport {LoginResponseType} from \"../m1-ui/common/types/types\";\nimport {loginAPI} from \"../m3-dal/api\";\n\nexport type LoginStateType = {\n    isAuth: boolean\n    errorMessage: string\n    data: LoginResponseType\n}\n\nconst initialState = {} as LoginStateType\n\nexport const loginReducer = (state: typeof initialState = initialState, action: ActionType): LoginStateType => {\n    switch (action.type) {\n        case 'SUCCESS-LOGIN':\n            return {\n                ...state,\n                isAuth: action.payload.isAuth,\n                data: action.payload.data,\n                errorMessage: ''\n            }\n        case \"FAILED-LOGIN\":\n            return {\n                ...state,\n                isAuth: action.payload.isAuth,\n                errorMessage: action.payload.errorMessage,\n            }\n        case 'SUCCESS-LOGOUT':\n            return {\n                ...state,\n                isAuth: action.payload.isAuth,\n            }\n        default:\n            return state\n    }\n}\n\n//TYPES\ntype ActionType = ReturnType<typeof successLoginAC> | ReturnType<typeof failedLoginAC>\n    | ReturnType<typeof isFetchingAC>\n    | ReturnType<typeof successLogoutAC>\n\n//AC\nconst successLoginAC = (data: LoginResponseType, isAuth: boolean, errorMessage: string) => (\n    {\n        type: 'SUCCESS-LOGIN',\n        payload: {\n            data: {...data},\n            isAuth,\n            errorMessage\n        }\n    } as const\n)\n\nconst failedLoginAC = (errorMessage: string, isAuth: boolean) => (\n    {\n        type: 'FAILED-LOGIN',\n        payload: {\n            errorMessage,\n            isAuth\n        }\n    } as const\n)\n\nconst successLogoutAC = (isAuth: boolean) => (\n    {\n        type: 'SUCCESS-LOGOUT',\n        payload: {\n            isAuth\n        }\n    } as const\n)\n\n//THUNK\n\nexport const isAuthTC = () => (dispatch: Dispatch<ActionType>) => {\n    loginAPI.isAuth()\n        .then(res => {\n            dispatch(successLoginAC(res.data, true, ''))\n        })\n        .catch((e) => {\n            const error = e.response\n                ? e.response.data.error\n                : (e.message + ', more details in the console');\n            dispatch(failedLoginAC(error, false))\n        })\n}\nexport const loginTC = (password: string, email: string, rememberMe: boolean) => (dispatch: Dispatch<ActionType>) => {\n    dispatch(isFetchingAC(true))\n    loginAPI.login(password, email, rememberMe)\n        .then(res => {\n            dispatch(successLoginAC(res.data, true, ''))\n            dispatch(isFetchingAC(false))\n        })\n        .catch((e) => {\n            const error = e.response\n                ? e.response.data.error\n                : (e.message + ', more details in the console');\n            dispatch(failedLoginAC(error, false))\n            dispatch(isFetchingAC(false))\n        })\n}\n\nexport const logoutTC = () => (dispatch: Dispatch<ActionType>) => {\n    dispatch(isFetchingAC(true))\n    loginAPI.logOut()\n        .then(res => {\n            dispatch(successLogoutAC(false))\n            dispatch(isFetchingAC(false))\n        })\n        .catch((e) => {\n            const error = e.response\n                ? e.response.data.error\n                : (e.message + ', more details in the console');\n            dispatch(failedLoginAC(error, false))\n            dispatch(isFetchingAC(false))\n        })\n}\n\n","import {useFormik} from \"formik\";\nimport React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Redirect} from \"react-router-dom\";\nimport s from './../registration/Registration.module.css'\nimport m from './login.module.css'\nimport {AppStateType} from \"../../m2-bll/store\";\nimport {LoginStateType, loginTC} from \"../../m2-bll/login-reducer\";\n\nconst Login = () => {\n\n    const dispatch = useDispatch();\n    const {\n        isAuth,\n        errorMessage\n    } = useSelector<AppStateType, LoginStateType>(state => state.login);\n    const fetch = useSelector<AppStateType, boolean>(state => state.app.isFetching);\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n            rememberMe: false\n        },\n        onSubmit: values => {\n            dispatch(loginTC(values.password, values.email, values.rememberMe))\n        },\n    });\n\n    console.log(errorMessage)\n\n    if (isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n\n    return <div>\n        <h1 className={s.h1}>Login</h1>\n\n        <form className={s.form} onSubmit={formik.handleSubmit}>\n            <div className={s.form_item}>\n                <label htmlFor=\"email\">Email Address</label>\n                <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    onChange={formik.handleChange}\n                    value={formik.values.email}\n                />\n\n            </div>\n\n            <div className={s.form_item}>\n                <label htmlFor=\"password\">Password</label>\n                <input type={'text'} name={'password'} id={'password'}\n                       value={formik.values.password}\n                       onChange={formik.handleChange}/>\n            </div>\n\n            <div className={`${s.form_item} ${m.form_item_rememberMe}`}>\n                <label htmlFor=\"rememberMe\">Remember me</label>\n                <input type=\"checkbox\" name=\"rememberMe\"\n                       value=\"rememberMe\" onChange={formik.handleChange}/>\n            </div>\n\n            <button className={s.button} type=\"submit\" disabled={fetch}>Submit</button>\n        </form>\n\n        {fetch && <div className={s.loading}>Loading...</div>}\n        {errorMessage && <div className={s.error}>{errorMessage}</div>}\n\n    </div>\n}\n\nexport default Login\n","import {Dispatch} from \"react\";\nimport {loadingAC, loadingACType} from \"./registration-reducer\";\nimport {packsAPI} from \"../m3-dal/api\";\nimport {AppStateType} from \"./store\";\nimport { ThunkAction } from \"redux-thunk\";\nimport {cardPacksType, cardType} from \"../m1-ui/common/types/types\";\n\nexport enum ACTIONS_TYPE {\n    GET_PACKS = 'Packs/GET_PACKS',\n    ADD_PACK = 'Packs/ADD_PACK'\n}\n\ntype initialStateType = {cardPacks: cardPacksType}\ntype ThunkType = ThunkAction<Promise<void>, AppStateType, unknown, ActionType>\ntype getPacksACType = ReturnType<typeof getPacksAC>\ntype addPackACType = ReturnType<typeof addPackAC>\ntype ActionType = getPacksACType | loadingACType | addPackACType\n\nconst initialState: initialStateType = {\n    cardPacks: []\n}\n\nexport const packsReducer = (state = initialState, action: ActionType) => {\n    switch (action.type) {\n        case ACTIONS_TYPE.GET_PACKS:\n            return {\n                ...state,\n                cardPacks: action.payload.data\n            }\n        case ACTIONS_TYPE.ADD_PACK:\n            return {\n                ...state,\n                cardPacks: [...state.cardPacks, action.payload.pack]\n            }\n\n        default:\n            return state\n    }\n}\n\n//AC\nconst getPacksAC = (data: cardPacksType) => ({\n    type: ACTIONS_TYPE.GET_PACKS,\n    payload: {data}\n} as const)\n\nconst addPackAC = (pack: cardType) => ({\n    type: ACTIONS_TYPE.ADD_PACK,\n    payload: {pack}\n} as const)\n\n//THUNK\nexport const getPacks = (): ThunkType => async (dispatch: Dispatch<ActionType>) => {\n    dispatch(loadingAC(true))\n    try {\n        let data = await packsAPI.getPacks()\n        let packs = data.cardPacks\n        dispatch(getPacksAC(packs))\n        dispatch(loadingAC(false))\n    } catch (e) {\n        let err = e.response\n        dispatch(loadingAC(false))\n    }\n}\n\n//THUNK\nexport const addPack = (name: string) => async (dispatch: Dispatch<ActionType>) => {\n    console.log(\"name pack thunk\", name)\n    dispatch(loadingAC(true))\n    try {\n        let data = await packsAPI.addPack(name)\n        let pack = data.newCardsPack\n        dispatch(addPackAC(pack))\n        dispatch(loadingAC(false))\n    } catch(e) {\n        let err = e.response\n        dispatch(loadingAC(false))\n    }\n}\n\n\n","import {useFormik} from \"formik\";\nimport React from \"react\";\nimport {registration} from \"../../m2-bll/registration-reducer\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStateType} from \"../../m2-bll/store\";\nimport {Redirect} from \"react-router-dom\";\nimport s from \"./Registration.module.css\"\n\ntype ErrorType = {\n    email?: string\n    password?: string\n}\n\nexport const Registration = () => {\n\n    const dispatch = useDispatch()\n    const error = useSelector<AppStateType, string | null>(state => state.registration.error)\n    const redirect = useSelector<AppStateType, boolean>(state => state.registration.isRedirecting)\n    const isLoading = useSelector<AppStateType, boolean>(state => state.registration.isLoading)\n\n    const formik = useFormik({\n        initialValues: {\n            email: '',\n            password: '',\n            confirmPassword: ''\n        },\n\n        onSubmit: (values) => {\n            dispatch(registration(values.email, values.password))\n            //formik.resetForm()\n        },\n\n        validate: (values) => {\n            const errors: ErrorType = {};\n            if (!values.email) {\n                errors.email = 'Required';\n            } else if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i.test(values.email)) {\n                errors.email = 'Invalid email address';\n            }\n\n            if (!values.password) {\n                errors.password = 'Required';\n            } else if (values.password.length <= 7) {\n                errors.password = 'Password should be more 7 symbols';\n            }\n\n            if(values.password !== values.confirmPassword && values.confirmPassword !== \"\") {\n                errors.password = 'Passwords do not match'\n            }\n\n            return errors;\n        }\n    })\n\n    if (redirect) {\n        return <Redirect to={'login'}/>\n    }\n\n    return (\n        <div className={s.registration}>\n            <h1 className={s.h1}>Форма регистрации</h1>\n            <form className={s.form} onSubmit={formik.handleSubmit}>\n\n                <div className={s.form_item}>\n                    <input type=\"text\"\n                           placeholder=\"Введите логин\"\n                           {...formik.getFieldProps('email')}\n                    />\n                    {formik.touched.email && formik.errors.email ?\n                        <div className={s.error}>{formik.errors.email}</div> : null}\n                </div>\n\n                <div className={s.form_item}>\n                    <input type=\"password\"\n                           placeholder=\"Введите пароль\"\n                           {...formik.getFieldProps('password')}\n                    />\n\n                    {formik.touched.password && formik.errors.password ?\n                        <div className={s.error}>{formik.errors.password}</div> : null}\n                </div>\n\n                <div className={s.form_item}>\n                    <input type=\"password\"\n                           placeholder=\"Введите пароль еще раз\"\n                           {...formik.getFieldProps('confirmPassword')}\n                    />\n\n                    {formik.touched.confirmPassword && formik.errors.confirmPassword ?\n                        <div className={s.error}>{formik.errors.confirmPassword}</div> : null}\n                </div>\n\n                <button className={s.button} type='submit' disabled={isLoading}>Зарегистрироваться</button>\n\n            </form>\n\n            {error && !isLoading && <div className={s.error}>{error}</div>}\n            {isLoading && <div className={s.loading}>LOADING...</div>}\n        </div>\n\n    )\n}","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStateType} from \"../../m2-bll/store\";\nimport {logoutTC} from \"../../m2-bll/login-reducer\";\nimport {LoginResponseType} from \"../common/types/types\";\n\nconst Profile = () => {\n    const dispatch = useDispatch();\n    const isAuth = useSelector<AppStateType, boolean>(state => state.login.isAuth);\n    const fetch = useSelector<AppStateType, boolean>(state => state.app.isFetching);\n    const profileData = useSelector<AppStateType, LoginResponseType>(state => state.login.data);\n\n    const logout = () => {\n        dispatch(logoutTC())\n    }\n\n    if(!isAuth){\n        return <Redirect to={'/login'}/>\n    }\n\n    return <div>\n        Profile\n        <div>\n            <img src={profileData.avatar} alt=\"\"/>\n            <div>{profileData.name}</div>\n        </div>\n        <button onClick={logout}>logout</button>\n    </div>\n}\n\nexport default Profile\n","import {lostPasswordAPI, newPasswordAPI} from \"../m3-dal/api\";\n\n\nlet initialState = {\n    error: null,\n    redirect:false\n}\n\nexport type  initType = {\n    error: string | null,\n    redirect:boolean\n}\n\nexport const enterNewPasswordReducer = (state: initType = initialState, action: ActionType): initType => {\n    switch (action.type) {\n        case \"SET-ERROR\":\n            return {...state, error: action.responseError}\n        case \"CHANGE-REDIRECT\":\n            return {...state, redirect: action.redirectStatus}\n        default:\n            return state\n    }\n}\n\n\nexport const setResponseError = (responseError: string | null) => ({type: \"SET-ERROR\", responseError} as const)\nexport const changeRedirectStatus = (redirectStatus: boolean) => ({type: \"CHANGE-REDIRECT\", redirectStatus} as const)\n\ntype ActionType = ReturnType<typeof setResponseError> | ReturnType<typeof changeRedirectStatus>\n\n\n\nexport const postNewPasswordTC = (password:string,resetPasswordToken:string) =>\n    async (dispatch: any) => {\n        try {\n            await newPasswordAPI.postNewPassword(password,resetPasswordToken)\n            dispatch(changeRedirectStatus(true))\n        } catch (e) {\n            const error = e.response ? e.response.data.error : (e.message + \", more details in the console\");\n            dispatch(setResponseError(error))\n        }\n    }\n\nexport const postEmailTC = (email: string) =>\n    async (dispatch: any) => {\n        try {\n            await lostPasswordAPI.postEmail(email)\n            dispatch(changeRedirectStatus(true))\n        } catch (e) {\n            const error = e.response ? e.response.data.error : (e.message + \", more details in the console\");\n            dispatch(setResponseError(error))\n        }\n    }\n","import React, {ChangeEvent, useState} from \"react\"\nimport {Redirect, useParams} from \"react-router-dom\"\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {AppStateType} from \"../../m2-bll/store\"\nimport {postNewPasswordTC} from \"../../m2-bll/enter-new-password-reducer\"\nimport s from './NewPassword.module.css'\n\n\nexport const EnterNewPassword = () => {\n\n    const [password1, setPassword1] = useState(\"\")\n    const [password2, setPassword2] = useState(\"\")\n    const {token} = useParams<{ token: string }>()\n    const dispatch = useDispatch()\n    const redirect = useSelector<AppStateType, boolean>(state => state.enterNewPassword.redirect)\n    const [badPassword, setBadPassword] = useState(false)\n    const error = useSelector<AppStateType, string | null>(state => state.enterNewPassword.error)\n\n    const changePassword1 = (e: ChangeEvent<HTMLInputElement>) => {\n        setPassword1(e.currentTarget.value)\n    }\n    const changePassword2 = (e: ChangeEvent<HTMLInputElement>) => {\n        setPassword2(e.currentTarget.value)\n    }\n\n    const changePassword = () => {\n        if (password1 === password2) {\n            return dispatch(postNewPasswordTC(password2, token))\n        } else {\n            return setBadPassword(true)\n        }\n\n    }\n\n    if (redirect) {\n        return <Redirect to={\"/login\"}/>\n    }\n\n    return <div className={s.main}>\n        <h1>Введите новый пароль</h1>\n        <div className={s.inputs}>\n            <input onChange={changePassword1} type=\"password\" placeholder={\"Enter new password\"}/>\n            <input onChange={changePassword2} type=\"password\" placeholder={\"Repeat new password\"}/>\n            {badPassword ? <div>Passwords mismatch!</div> : null}\n            {error ? <div className={s.error}>{error}</div> : null}\n        </div>\n        <button onClick={changePassword}>Next</button>\n    </div>\n}","import React, {ChangeEvent, useState} from \"react\";\nimport s from \"./LostPassword.module.css\"\nimport {useDispatch, useSelector} from \"react-redux\";\nimport {AppStateType} from \"../../m2-bll/store\";\nimport {postEmailTC, setResponseError} from \"../../m2-bll/enter-new-password-reducer\";\n\nexport const PasswordRecovery = () => {\n\n    const error = useSelector<AppStateType, string | null>(state => state.enterNewPassword.error)\n    const [email, setEmail] = useState(\"\")\n    const redirect = useSelector<AppStateType, boolean>(state => state.enterNewPassword.redirect)\n    const dispatch = useDispatch()\n\n    const onInputChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setEmail(e.currentTarget.value)\n        dispatch(setResponseError(null))\n    }\n\n    const postEmail = () => {\n        return dispatch(postEmailTC(email))\n    }\n\n\n    return <div>\n        {redirect ? <h3 className={s.message}>We have sent you a message with a link to change your password to this address:{email}</h3> :\n            <div className={s.main}>\n                <h1>Укажите email или телефон</h1>\n                <h3>Пожалуйста, укажите email или телефон, который вы использовали для входа на сайт</h3>\n                <input onChange={onInputChange} placeholder={\"Enter Email\"}/>\n                {error ? <div className={s.error}>{error}</div> : null}\n                <button onClick={postEmail}>Next</button>\n            </div>\n        }\n    </div>\n}","import React from \"react\";\n\nconst Error404 = () => {\n    return <div>\n        Error404\n    </div>\n}\n\nexport default Error404\n","import React, {ReactElement, useEffect} from 'react'\nimport s from \"./Modal.module.css\"\n\ntype ModalType = {\n    visible: boolean,\n    title: string,\n    content: ReactElement | string,\n    footer: ReactElement | string,\n    onClose: () => void\n}\n\nexport const Modal: React.FC<ModalType> = ({\n                                               visible = false,\n                                               title = '',\n                                               content = '',\n                                               footer = '',\n                                               onClose,\n                                           }) => {\n\n    const onKeydown = ({key}: KeyboardEvent) => {\n        switch (key) {\n            case 'Escape':\n                onClose()\n                break\n        }\n    }\n\n    useEffect(() => {\n        document.addEventListener('keydown', onKeydown)\n        return () => document.removeEventListener('keydown', onKeydown)\n    })\n\n    if (!visible) return null\n\n    return (\n        <div className={s.modal} onClick={onClose}>\n            <div className={s.modal_dialog} onClick={e => e.stopPropagation()}>\n                <div className={s.modal_header}>\n                    <h3 className={s.modal_title}>{title}</h3>\n                    <span className={s.modal_close} onClick={onClose}>\n            &times;\n          </span>\n                </div>\n                <div className={s.modal_body}>\n                    <div className={s.modal_content}>{content}</div>\n                </div>\n                {footer && <div className={s.modal_footer}>{footer}</div>}\n            </div>\n        </div>\n    )\n}\n","import {useFormik} from 'formik'\nimport React, {useState} from 'react'\nimport {useDispatch} from \"react-redux\";\nimport {addPack} from \"../../../m2-bll/packs-reducer\";\n\ntype AddPacksModal = {\n    onClose: () => void\n}\n\nexport const AddPacksModal: React.FC<AddPacksModal> = ({onClose}) => {\n\n    const dispatch = useDispatch()\n\n    const formik = useFormik({\n        initialValues: {\n            name: ''\n        },\n\n        onSubmit: (values) => {\n            dispatch(addPack(values.name))\n            onClose()\n        }\n    })\n\n    return (\n        <form onSubmit={formik.handleSubmit}>\n            <input type=\"text\"\n                   placeholder=\"Введите название колоды\"\n                   {...formik.getFieldProps('name')}/>\n            <button type='submit'>add</button>\n        </form>\n    )\n}","import React, {useState} from 'react'\nimport {useSortableData} from \"../hooks/useSortableData\";\nimport {cardPacksType} from \"../common/types/types\";\nimport {useDispatch} from \"react-redux\";\nimport {Modal} from \"../common/Modal/Modal\";\nimport {AddPacksModal} from \"../packs/addPacksModal/AddPacksModal\";\n\n\ntype TableProps = {\n    items: cardPacksType\n}\n\n\nexport const Table: React.FC<TableProps> = (props) => {\n    //хук для сортировки items\n    const {items, requestSort} = useSortableData(props.items);\n    //открыть-закрыть модальное окно для добавления колоды\n    const [isModal, setModal] = useState(false)\n\n    let onClose = () => setModal(false)\n\n    return (\n        <table>\n            <caption>Packs</caption>\n            <thead>\n            <tr>\n                <th>\n                    <div onClick={() => requestSort('name')}>\n                        name\n                    </div>\n                </th>\n                <th>\n                    <div onClick={() => requestSort('cardsCount')}>\n                        cardsCount\n                    </div>\n                </th>\n                <th>\n                    <div onClick={() => requestSort('updated')}>\n                        updated\n                    </div>\n                </th>\n                <th>\n                    <button onClick={() => setModal(true)}>\n                        Add\n                    </button>\n\n                    <Modal visible={isModal}\n                           title={'add pack'}\n                           content={<AddPacksModal onClose={onClose}/>}\n                           footer={<button onClick={onClose}>close</button>}\n                           onClose={onClose}\n                    />\n\n                </th>\n            </tr>\n            </thead>\n\n            <tbody>\n            {\n                items.map(i => {\n                    return (\n                        <tr>\n                            <td>{i.name}</td>\n                            <td>{i.cardsCount}</td>\n                            <td>{i.updated}</td>\n                        </tr>\n                    )\n                })\n            }\n            </tbody>\n\n\n        </table>\n    )\n}","import React, {useMemo, useState} from \"react\";\n\nexport const useSortableData = (items: any, config = null) => {\n\n    //состояние объекта с ключем и направлением сортировки\n    const [sortConfig, setSortConfig] = useState<{\n        key: string\n        direction: string\n    } | null>(config);\n\n    //производит сортировку массива объектов по переданному ключу + по направлению сортировки (больше, меньше)\n    //не мутирует items\n    //результат закеширован\n    const sortedItems = useMemo(() => {\n        let sortableItems = [...items];\n        if (sortConfig !== null) {\n            sortableItems.sort((a: any, b: any) => {\n                if (a[sortConfig.key] < b[sortConfig.key]) {\n                    return sortConfig.direction === 'ascending' ? -1 : 1;\n                }\n                if (a[sortConfig.key] > b[sortConfig.key]) {\n                    return sortConfig.direction === 'ascending' ? 1 : -1;\n                }\n                return 0;\n            });\n        }\n        return sortableItems;\n    }, [items, sortConfig]);\n\n    //принимает ключ по которому производится сортировка\n    //усстанавливает значение ключа и направление сортировки в локальный стейт\n    const requestSort = (key: string) => {\n        let direction = 'ascending';\n        if (sortConfig && sortConfig.key === key && sortConfig.direction === 'ascending') {\n            direction = 'descending';\n        }\n        setSortConfig({key, direction});\n    }\n\n    //возвращает отсортированный массив\n    //функцию, которая принимает ключ\n    //и локальный стейт\n    return {items: sortedItems, requestSort, sortConfig};\n}","import React from 'react'\nimport {useDispatch, useSelector} from \"react-redux\"\nimport {AppStateType} from \"../../m2-bll/store\"\nimport {useEffect} from \"react\"\nimport {getPacks} from \"../../m2-bll/packs-reducer\"\nimport {Table} from \"../table/Table\"\nimport {cardPacksType} from \"../common/types/types\";\n\nexport const Packs = () => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getPacks())\n    }, [])\n\n    const data = useSelector<AppStateType, cardPacksType>(state => state.packs.cardPacks)\n\n    return (\n        <div>\n            <Table items={data}/>\n        </div>\n    )\n}\n","import Table3 from \"../table/Table3\";\n\nexport const Cards = () => {\n    return (\n        <div>\n            {/*<Table3/>*/}\n            Table\n        </div>\n    )\n}","import React from \"react\";\nimport {Redirect, Route, Switch } from \"react-router-dom\";\nimport Login from \"../login/Login\";\nimport {Registration} from \"../registration/Registration\";\nimport Profile from \"../profile/Profile\";\nimport {EnterNewPassword} from \"../enterNewPassword/EnterNewPassword\";\nimport {PasswordRecovery} from \"../passwordRecovery/PasswordRecovery\";\nimport Error404 from \"../error404/Error404\";\nimport Table3 from \"../table/Table3\";\nimport {Packs} from \"../packs/Packs\";\nimport {Cards} from \"../cards/Cards\";\n\n\nexport const PATH = {\n    LOGIN: \"/login\",\n    REGISTRATION: \"/registration\",\n    PROFILE: \"/profile\",\n    NEW_PASS : \"/enter-new-password/:token\",\n    RESET_PASS: \"/password-recovery\",\n    TEST: \"/show-all\",\n    PACKS: \"/packs\",\n    CARDS: \"/cards\"\n}\n\nexport const Routes = () => {\n    return (\n        <div>\n            <Switch>\n\n                <Route path={\"/\"} exact render={() => <Redirect to={PATH.PROFILE}/>}/>\n                <Route path={PATH.LOGIN} render={() => <Login/>}/>\n                <Route path={PATH.REGISTRATION} render={() => <Registration/>}/>\n                <Route path={PATH.PROFILE} render={() => <Profile/>}/>\n                <Route path={PATH.NEW_PASS} render={() => <EnterNewPassword/>}/>\n                <Route path={PATH.RESET_PASS} render={() => <PasswordRecovery/>}/>\n                <Route path={PATH.PACKS} render={() => <Packs/>}/>\n                <Route path={PATH.CARDS} render={() => <Cards/>}/>\n{/*\n                <Route path={PATH.TEST} render={() => <ShowAllComponents/>}/>\n*/}\n\n                у этого роута нет пути, он отрисуется если пользователь захочет попасть на несуществующую страницу\n                <Route render={() => <Error404/>}/>\n\n            </Switch>\n        </div>\n    );\n}","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport style from'./Nav.module.css'\nimport {PATH} from \"../routes/Routes\";\n\nconst Nav = () => {\n    return <nav className={style.nav}>\n        <NavLink to={PATH.LOGIN}>Login </NavLink>\n        <NavLink to={PATH.REGISTRATION}>Registration</NavLink>\n        <NavLink to={PATH.PROFILE}>Profile</NavLink>\n        <NavLink to={PATH.RESET_PASS}>Password recovery</NavLink>\n        <NavLink to={PATH.NEW_PASS}>New password</NavLink>\n        <NavLink to={PATH.TEST}>Show all</NavLink>\n        <NavLink to={PATH.PACKS}>Packs</NavLink>\n        <NavLink to={PATH.CARDS}>Cards</NavLink>\n    </nav>\n}\n\nexport default Nav\n","import React, {useEffect} from 'react';\nimport {HashRouter} from 'react-router-dom';\nimport './App.css';\nimport {useDispatch} from \"react-redux\";\nimport {Routes} from \"./routes/Routes\";\nimport Nav from \"./nav/Nav\";\nimport {isAuthTC} from \"../m2-bll/login-reducer\";\n\n\nfunction App() {\n    useEffect(() => {\n        dispatch(isAuthTC())\n    }, [])\n\n    //const auth = useSelector<RootStateType, boolean>(state => state.login.isAuth);\n    const dispatch = useDispatch();\n\n    return (\n        <HashRouter>\n            <Nav/>\n            <Routes/>\n        </HashRouter>\n    );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {Dispatch} from \"redux\";\n\nexport type ProfileStateType = {\n}\n\nconst initialState = {} as ProfileStateType\n\nexport const profileReducer = (state: typeof initialState = initialState, action: ActionType): ProfileStateType => {\n    switch (action.type) {\n\n        default:\n            return state\n    }\n}\n\n//TYPES\ntype ActionType = any;\n\n//AC\n\n//THUNK\n\n","\nexport type PasswordRecoveryStateType = {\n}\n\nconst initialState = {} as PasswordRecoveryStateType\n\nexport const passwordRecoveryReducer = (state: typeof initialState = initialState, action: ActionType): PasswordRecoveryStateType => {\n    switch (action.type) {\n\n        default:\n            return state\n    }\n}\n\n//TYPES\ntype ActionType = any;\n\n//AC\n\n//THUNK\n","type initialStateType = {\n    a: number\n}\nconst initialState: initialStateType = {\n    a: 1\n}\n\nexport const cardsReducer = (state: any = initialState, action: any) => {\n    switch (action.type) {\n        case '':\n            return state\n        default:\n            return state\n    }\n}","import { combineReducers, applyMiddleware } from 'redux'\nimport {loginReducer} from \"./login-reducer\";\nimport { createStore } from 'redux'\nimport {registrationReducer} from \"./registration-reducer\";\nimport thunkMiddleware from 'redux-thunk'\nimport {profileReducer} from \"./profile-reducer\";\nimport {passwordRecoveryReducer} from \"./password-recovery-reducer\";\nimport {enterNewPasswordReducer} from \"./enter-new-password-reducer\";\nimport {appReducer} from \"./app-reducer\";\nimport {packsReducer} from \"./packs-reducer\";\nimport {cardsReducer} from \"./cards-reducer\";\n\nlet rootReducer = combineReducers({\n    login: loginReducer,\n    registration: registrationReducer,\n    profile: profileReducer,\n    passwordRecovery: passwordRecoveryReducer,\n    enterNewPassword: enterNewPasswordReducer,\n    app: appReducer,\n    packs: packsReducer,\n    cards: cardsReducer\n})\n\nexport type AppStateType = ReturnType<typeof rootReducer>\nexport let store = createStore(rootReducer, applyMiddleware(thunkMiddleware))","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './n1-main/m1-ui/App';\nimport reportWebVitals from './reportWebVitals';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./n1-main/m2-bll/store\";\nimport {HashRouter} from \"react-router-dom\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <HashRouter>\n            <Provider store={store}>\n                <App/>\n            </Provider>\n        </HashRouter>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}